# 6 - Windows Privelege Escalation

## <mark style="color:red;">Identifying Windows Privilege Escalation Vulnerabilities</mark>

* In order to elevate your privileges on Windows, you must first, identify privilege escalation vulnerabilities that exist on the target system.
* This process will differ greatly based on the type of target you gain access to. Privilege escalation on Windows can be performed through a plethora of techniques based on the version of Windows and the system's unique configuration.
* This process can be quite tedious and time consuming and as a result, it is recommended to automate the processes of identifying privilege escalation vulnerabilities. This can be done through the use of various automation scripts.

### **PrivescCheck**

* PrivescCheck - This script aims to enumerate common Windows configuration issues that can be leveraged for local privilege escalation. It also gathers various information that might be useful for exploitation and/or post-exploitation.
  * GitHub Repo: https://github.com/itm4n/PrivescCheck

### **Practical Demonstration**

{% code overflow="wrap" lineNumbers="true" %}
```bash
# we use Metasploit (exploit/multi/script/web_delivery) module for initial access.

cmd > powershell -ep bypass -c ". .\PrivescCheck.ps1; Invoke-PrivescCheck" #Use the PrivescCheck script from cmd.
```
{% endcode %}



## <mark style="color:red;">Windows Privilege Escalation</mark>

### **Practical Demonstration**

{% code overflow="wrap" lineNumbers="true" %}
```bash
psexec.py administrator@<targetIP> #Connect to the victim system using the WinLogon creds that PrivescCheck has gathered.

# using Metasploit
use exploit/smb/psexec
```
{% endcode %}



